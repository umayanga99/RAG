<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- OneTrust Cookies Consent Notice start for broadcom.com -->
        <!-- <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="6a5fee8c-80be-4b9a-ab7e-b607e3f8ad3e-test" ></script> -->
        <script id="cookieScript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"  type="text/javascript" charset="UTF-8" data-domain-script="6a5fee8c-80be-4b9a-ab7e-b607e3f8ad3e" ></script>
        <script type="text/javascript">
        function OptanonWrapper() { }
        </script>
        <!-- OneTrust Cookies Consent Notice end for broadcom.com -->

        <!-- OneTrust Cookies Settings button start -->
        <button id="ot-sdk-btn" class="ot-sdk-show-settings">Cookie Settings</button>
        <!-- OneTrust Cookies Settings button end -->     
        
        <!-- Google Tag Manager -->
        <script>
            (function (w, d, s, l, i) {
                  w[l] = w[l] || [];
                  w[l].push({
                    'gtm.start': new Date().getTime(),
                    event: 'gtm.js'
                  });
                  var f = d.getElementsByTagName(s)[0],
                    j = d.createElement(s),
                    dl = l != 'dataLayer' ? '&l=' + l : '';
                  j.async = true;
                  j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
                  f.parentNode.insertBefore(j, f);
            })(window, document, 'script', 'dataLayer', 'GTM-KF7XWD');

        </script>
        <!-- End Google Tag Manager -->
        <title>Understanding TCP Segmentation Offload (TSO) and Large Receive Offload (LRO) in the vSphere environment</title>
        <link rel="icon" type="image/x-icon" href="https://knowledge.broadcom.com/broadcom-log.png">
        <meta name="description" content="  ">
        <script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","name":"VMware vSphere ESXi","alternateName":"VMware vSphere ESXi","datePublished":"05-09-2025 08:16","dateModified":"05-09-2025 08:16","mainEntityOfPage":{"@type":"Webpage","URL":"https://knowledge.broadcom.com/external/article/318877"},"keywords":"N/A","url":"https://knowledge.broadcom.com/external/article/318877"},"author":"Broadcom Inc","headline":"Understanding TCP Segmentation Offload (TSO) and Large Receive Offload (LRO) in the vSphere environment","publisher":{"@type":"Organization","name":"Broadcom Inc","logo":{"@type":"ImageObject","url":""}},"aggregateRating":{"@type":"AggregateRating","ratingValue":"","ratingCount":""}}
        </script>
        <link rel="canonical" href="https://knowledge.broadcom.com/external/article/318877/understanding-tcp-segmentation-offload-t.html">

        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500" rel="stylesheet">

        <!--SU Scripts-->
        <script type="text/javascript" src="https://searchunify.broadcom.com/resources/Allow/an.js?uid=1fd47e1f-f7d9-11ea-beba-0242ac12000b" defer=""></script>
        <style>
            body {
                --wolken-primary-color: #CC092F;
                --wolken-primary-color-light: #CC092F0D;
                --wolken-primary-complimentory-color:  #2030CC;
                --wolken-accent-complimentory-color:  #CCBC20;
                background: #FFFFFF;
                height: 100vh;
                padding: 0;
                /* margin: 0; */
                font-size: 16px;
                margin: 12px !important;
            }

            #onetrust-consent-sdk{
             font-family: "Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";   
             font-family: "Gotham-Book",sans-serif;   
            }

            #ot-sdk-btn.ot-sdk-show-settings{
                display: none;
            }

            * {
                box-sizing: border-box;
            }

            h1,
            h2,
            h3,
            h4, 
            h5,
            h6 {
                margin: 12px 0;
            }

            h1{
                line-height: 28px;
            }

            h2{
                line-height: 24px;
            }
            /* newly added for INC01200689 */
            img {
                         height: auto !important;
                         max-width: 100% !important;
            }
            .wolken-h3 {
                font: 500 19px/32px Poppins;
            }

            .wolken-h4 {
                font: 400 15px/24px Poppins;
            }

            .wolken-h5 {
                font: 400 13px/20px Poppins;
            }

            .flex-column {
                display: flex;
                flex-direction: column;
            }

            .flex-row {
                display: flex;
                flex-direction: row;
            }

            .column-gap-16 > *:not(:last-child) {
                margin-bottom: 16px;
            }

            .row-gap-16 > *:not(:last-child) {
                margin-right: 16px;
            }

            .row-gap-8 > *:not(:last-child) {
                margin-right: 8px;
            }

            .row-gap{
                margin: 10px 15px;
            }

            .row-align-space-between-center {
                place-content: center space-between;
                align-items: center;
            }

            .row-align-center-center {
                place-content: center;
                align-items: center;
            }

            .custom-header, .custom-footer {
                max-height: 100%;
                width: 100%;
                display: block;
                border: 0;
            }

            .search-bar{
                border: 1px solid #cacaca;
                width: calc(100%);
                outline: none;
                padding: 12px 0;
                padding-left: 15px !important;
                text-indent: 12px;
                font-family: arial,sans-serif;
                font-size: 16px;
                line-height: 24px;
                height: 30px;
                white-space: pre;
                overflow: auto;
                box-sizing: border-box;
                display: block;
                border-radius: 6px;
            }

            .show_more, .show_less{
                    width: auto !important;
            }

            .search-button-container{
                padding: 0 16px;
                display: flex;
                align-items: center;
                /* place-content: end; */
                margin-bottom: 5px !important;
                place-content: center;
                margin-bottom: 5px !important;
                width: 100%;
                background: transparent linear-gradient(90deg, #3D4145 0%, #FAFAFA 100%) 0% 0% no-repeat padding-box !important;
                background-repeat: no-repeat;
            }

            .search-bar-container{
                width: 880px;
                display: flex;
                height: 100px;
                align-items: center;
            }

            .material-icon-search{
                cursor:pointer;
                align-self: center;
                font-size: 20px;
                color: #00000061;
            }

            .article-updated-time {
                flex: 0 0 auto;
                align-items: center;
            }

            .article-updated-date-icon {
                color: var(--wolken-accent-complimentory-color);
            }

            .article-updated-date-icon_cal{
                color: var(--wolken-primary-complimentory-color);
            }


            .article-detail-card {
                box-shadow: 0px 0px 6px #00000066;
                border-top: 4px solid var(--wolken-primary-color);
                border-radius: 10px;
                width: 100%;
            }

            .article-detail-card-header {
                padding: 8px 16px;
                border-bottom: 1px solid #00000066;
            }

            .article-detail-card-content {
                padding: 8px 16px;
                max-width: 100%;
                overflow: auto;
            }

            .like_dislike_btn {
                cursor: pointer;
            }

            .product-container {
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                padding: 8px;
            }

            .product-chip {
                padding: 4px 12px;
                margin: 4px;
                background: var(--wolken-primary-color-light);
                border: 1px solid #00000066;
                border-radius: 50px;
                font: 400 12px/25px Poppins;
                color: #000000;
            }

            .attachment-container {
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
            }

            .attachment-card {
                box-shadow: 0px 0px 2px #00000033;
                border-radius: 4px;
                margin: 8px;
            }

            .attachment-card:hover {
                box-shadow: 0px 0px 4px #00000033;
            }

            .attachment-name {
                padding: 0px 8px;
                font: 400 12px/18px Poppins;
            }

            .attachment-download {
                padding: 8px 12px;
                color: #ffffff;
                background: var(--wolken-primary-color);
                border-radius: 4px;
                height: 100%;
                cursor: pointer;
            }

            .attachment-download-icon {
                font-size: 16px;
                height: 16px;
                width: 16px;
            }

            .text-ellipsis {
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .article-page {
                position: relative;
            }

            .loader-container {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                background-color: #ffffff;
                z-index: 1;
            }

            .article-container {
                display: none;
                position: absolute;
                top: 0;
                left: 0;
                z-index: 0;
                width: 100%;
            }

            .wolken-footer {
                width: 100%;
                height: 30px;
                padding: 0 16px;
                background-color: var(--wolken-primary-color-light);
                place-content: center flex-end;
                align-items: center;
            }

            .wolken-footer-content {
                text-decoration: none;
                cursor: pointer;
                font: 400 12px/10px Poppins;
            }

            table {
                table-layout: fixed;
                border: 1px solid;
                border-collapse: collapse;
                white-space: initial;
                word-break: break-word;
            }

            table td, table th {
                border: 1px solid;
                border-collapse: collapse;
                padding: 10px;
            }

            .alert_style{
                         background-color: rgb(209, 119, 119);
                         padding: 5px 5px 5px 5px;
                         border-radius: 5px 5px 5px 5px;
                    }
                    .kb_article_alert {
                         font-weight: bold; font-size: 15px;
                    }

            @media all and (min-width: 1200px) {
              .wolken-content-container {
                max-width: 1170px;
                width: 100%;
                margin: auto;
                padding: 16px 0px;
              }

              .article-header {
                display: flex;
                flex-direction: row;
                place-content: flex-start space-between;
                align-items: flex-start;
                margin-top: 10px !important;
              }

              .article-ruler{
                border: 2px solid var(--wolken-primary-color);
                    width: 10px;
                    width: 100%;
                    position: absolute;
                    top:135px;
                    left:0;
                    right:0;
              }

              .article-header > div:not(:last-child) {
                margin-right: 16px;
              }
              .article-header-info{
               display: flex;
                flex-direction: row;
                place-content: flex-start start;
                align-items: flex-start;
              }
              .article-header-info > div:not(:last-child) {
                margin-right: 16px;
              }
            }

            @media all and (min-width: 1440px) {
              .wolken-content-container {
                max-width: 1400px;
                margin: auto;
              }
            }

            @media all and (min-width: 1199px) {
              .wolken-content-container {
                max-width: 930px;
                margin: auto;
              }
            }

            @media all and (min-width: 992px) {
              .wolken-content-container {
                max-width: 960px;
                margin: auto;
              }
            }

            @media all and (max-width: 1199px){
                .wolken-content-container {
                    width: 100%;
                    padding: 16px;
                }

                .attachment {
                    width: 25%;
                }

                .article-header {
                    display: flex;
                    flex-direction: row;
                    place-content: flex-start space-between;
                    align-items: flex-start;
                  }

                  .article-header > div:not(:last-child) {
                    margin-right: 16px;
                  }
                .article-header-info{
                   display: flex;
                   flex-direction: row;
                   place-content: flex-start start;
                   align-items: flex-start;
                  }
                  .article-header-info > div:not(:last-child) {
                   margin-right: 16px;
                  }
            }

            @media all and (min-width: 768px) and (max-width: 959px) {
                .attachment {
                    width: 33.333333%;
                }

                .article-header {
                    display: flex;
                    flex-direction: column;
                  }

                  .article-header > div:not(:last-child) {
                    margin-bottom: 8px;
                  }
            }

            @media all and (max-width: 767px){
                .attachment {
                    width: 50%;
                }

                .article-header {
                    display: flex;
                    flex-direction: column;
                  }

                  .article-header > div:not(:last-child) {
                    margin-bottom: 8px;
                  }
                 .article-header-info{
                   display: flex;
                   flex-direction: row;
                   place-content: flex-start start;
                   align-items: flex-start;
                  }
                  .article-header-info > div:not(:last-child) {
                   margin-right: 16px;
                  }
            }

            .ghost-loader {
                border-radius: 5px;
                animation: shine-lines 1.5s infinite linear;
                background-image: linear-gradient(to right, rgba(211, 211, 211, 0.2) 0%, rgba(211, 211, 211, 0.7) 20%,
                    rgba(211, 211, 211, 0.9) 40%, rgba(211, 211, 211, 0.2) 100%) ;
            }

            @keyframes shine-lines {
                0% {
                    background-position: -100px;
                }

                40%, 100% {
                    background-position: 140px;
                }
            }

            .ghost-custom-header {
                width: 100%;
                height: 90px;
            }

            .ghost-article-title {
                width: 200px;
                height: 32px;
            }

            .ghost-article-date {
                width: 200px;
                height: 32px;
            }

            .ghost-article-detail-title {
                width: 150px;
                height: 24px;
            }

            .ghost-product-detail-content>div {
                width: 20%;
                height: 30px;
                padding: 4px 12px;
                margin: 4px;
                border-radius: 50px;
            }

            .ghost-article-detail-content>div:nth-child(1) {
                width: 70%;
                height: 20px
            }

            .ghost-article-detail-content>div:nth-child(2) {
                width: 20%;
                height: 30px
            }

            .ghost-article-detail-content>div:nth-child(3) {
                width: 40%;
                height: 20px
            }

            .ghost-article-detail-content>div:nth-child(4) {
                width: 30%;
                height: 15px
            }

            .ghost-article-detail-content>div:nth-child(5) {
                width: 50%;
                height: 25px
            }

            .ghost-custom-footer {
                width: 100%;
                height: 140px;
            }

            .wolken-primary-button {
                margin-left: 2px;
                /* background-color: var(--wolken-primary-color); */
                background-color: #005C8A;
                border-radius: 4px;
                box-shadow: 0 5px 6px 0rgba(0, 0, 0, 0.1);
                border: none;
                color: white;
                border: 1px solid #7e8c9a;
                border-left: none;
                text-decoration: none;
                text-align: center;
                vertical-align: middle;
                overflow: hidden;
                height: 30px;
                width: 65px;
                min-width: 65px;
                cursor: pointer;
                line-height: 0;
            }

            .wolken-primary-button .material-icons {
                font-size: 20px;
                height: 20px;
                width: 20px;
            }

            #feedback_actionMsg, #feedback_actions {
               margin: 8px 8px 8px 0px;
            }

            .icon-24{
              font-size: 20px;
            }

            span.mat-caption {
            font: 400 12px/14px Poppins;
            letter-spacing: normal;
            }

            @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
              /* IE10+ specific styles go here */
                    .article-updated-date-icon {
                        color: var(--wolken-primary-complimentory-color);
                        color: #ccbc20;
                    }

                    .article-updated-date-icon_cal{
                        color: var(--wolken-primary-complimentory-color);
                        color: #2030cc;
                    }

                    .article-detail-card {

                        box-shadow: 0px 0px 10px 0px rgba(68,68,68,0.6);
                        border-top: 4px solid var(--wolken-primary-color);
                        border-top-style: solid;
                        border-top-width: 4px;
                        border-top-color: rgb(204, 9, 47);
                        border-radius: 10px;
                        width: 100%;
                    }

                    .article-detail-card-header {
                        padding: 8px 16px;
                        border-bottom: 1px solid #00000066;
                        border-bottom-style: solid;
                        border-bottom-width: 1px;
                        border-bottom-color: rgba(0, 0, 0, 0.40);
                    }
                     .product-chip {
                        padding: 4px 12px;
                        margin: 4px;
                        background: var(--wolken-primary-color-light);
                        background: rgba(204, 9, 47, 0.05);
                        border: 1px solid rgba(0, 0, 0, 0.40);
                        border-style: solid;
                        border-width: 1px;
                        border-color: rgba(0, 0, 0, 0.40);
                        border-radius: 50px;
                        font: 400 12px/25px Poppins;
                        color: #000000;
                    }
                    .attachment-card {
                        box-shadow: 0px 0px 2px 0px rgba(68,68,68,0.6);
                        border-radius: 4px;
                        margin: 8px;
                    }

                    .attachment-card:hover {
                        box-shadow: 0px 0px 4px 0px rgba(68,68,68,0.6);

                    }

                    .attachment-name {
                        padding: 0px 8px;
                        font: 400 12px/18px Poppins;
                    }

                    .attachment-download {
                        padding: 8px 12px;
                        color: #ffffff;
                        background: var(--wolken-primary-color);
                        background: rgb(204, 9, 47);
                        border-radius: 4px;
                        height: 100%;
                        cursor: pointer;
                    }
                     .wolken-footer {
                        width: 100%;
                        height: 30px;
                        padding: 0 16px;
                        background-color: var(--wolken-primary-color-light);
                        background: rgba(204, 9, 47, 0.05);
                        place-content: center flex-end;
                        justify-content: flex-end;
                        align-items: center;
                    }
                    .wolken-primary-button {
                        box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);
                        background-color: var(--wolken-primary-color);
                        background-color: rgb(204, 9, 47);
                        color: #ffffff;
                        padding: 4px 12px;
                        font-size: 12px;
                        line-height: 24px;
                        cursor: pointer;
                        outline: 0;
                        border: none;
                        transform: translate3d(0,0,0);
                        transition: background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);
                        font-family: Poppins;
                        font-weight: 500;
                        border-radius: 4px;
                    }

                    table {
                        table-layout: fixed;
                        border: 1px solid;
                        border-collapse: collapse;
                        white-space: initial;
                        word-break: break-word;
                    }

                    table td, table th {
                        border: 1px solid;
                        border-collapse: collapse;
                    }



            }

            pre {
            white-space: pre-wrap !important;
            background: #f7f7f7 !important;
            padding: 5px !important;
            }

            hr {
              margin: 20px 0;
            }
            
            hr br[data-mce-bogus] {
              display: none;
            }
        </style>
    </head>
    <body>

        <div class="article-page">
            <div class="article-container flex-column">

                <iframe  id = "global-header" class="custom-header" title="https://cdn.wolkenservicedesk.com/Broadcom_%20Header.html" src="https://cdn.wolkenservicedesk.com/Broadcom_%20Header.html" height="90px" ></iframe>
                <div class="search-button-container">
                    <div class="search-bar-container">
                        <span class="material-icons material-icon-search" style="margin-left: 5px;position: absolute;">search</span>
                        <input type="text" placeholder="Search" name="search" class="search-bar" id="searchBox" onkeypress="redirectOnSearch(event)">
                        <span class="material-icons material-icon-search" style="margin-left: -25px;" onclick="clearSearch()">cancel</span>
                    </div>
                    <button onclick="redirectOnSearch()" class="wolken-primary-button">
                        <!-- <span class="material-icons">search</span> -->
                        Search
                    </button>
                </div>
                <div class="wolken-content-container flex-column column-gap-16">

                    <!-- <hr class="article-ruler"> -->
                    <div class="article-header">
                        <h3 class="wolken-h3">Understanding TCP Segmentation Offload (TSO) and Large Receive Offload (LRO) in the vSphere environment</h3>

                    </div>
                    <div class="article-header-info">
                        <div class="flex-row row-gap-8 article-updated-time">
                            <span class="material-icons article-updated-date-icon">book</span>
                            <h4 class="wolken-h4">Article ID: 318877</h4>
                        </div>
                        <div class="flex-row row-gap-8 article-updated-time">
                            <span class="material-icons article-updated-date-icon_cal">calendar_today</span>
                            <h4 class="wolken-h4">Updated On: <span id="date_time"></span></h4>
                        </div>
                    </div>
                    <div class="article-detail-card">
                        <div class="article-detail-card-header">
                            <h4 class="wolken-h4">Products</h4>
                        </div>
                        <div class="product-container wolken-h5">
                            
                                
                                 <span class="product-chip">VMware vSphere ESXi</span>
                                
                            
                        </div>
                        <button class="show_more flex-row row-align-center-center row-gap wolken-primary-button" onclick="showMoreItems()">Show More</button>
                        <button class="show_less flex-row row-align-center-center row-gap wolken-primary-button" onclick="showLessItems()">Show Less</button>
                    </div>

                    
                        <div class="article-detail-card">
                            <div class="article-detail-card-header">
                                <h4 class="wolken-h4">Issue/Introduction</h4>
                            </div>
                            <div class="article-detail-card-content wolken-h5">
                                <div><p>Using TCP Segmentation Offload (TSO) and Large Receive Offload (LRO) on physical and virtual machine NICs improves the performance of ESX/ESXi hosts by reducing CPU overhead for TCP/IP network operations.</p>
<ul>
<li>When TSO is enabled on the transmission path, the NIC divides larger data chunks into TCP segments.</li>
<li>When TSO is disabled, the CPU performs segmentation for TCP/IP.</li>
<li>Note that TSO is referred to as Large Send Offload (LSO) in the VMXNET3 driver attributes.</li>
</ul>
<p>LRO reassembles incoming network packets into larger buffers and transfers the resulting larger but fewer packets to the network stack of the host or virtual machine.</p></div>
                            </div>
                        </div>
                    

                    
                        <div class="article-detail-card">
                            <div class="article-detail-card-header">
                                <h4 class="wolken-h4">Environment</h4>
                            </div>
                            <div class="article-detail-card-content wolken-h5">
                                <div><ul>
<li>VMware vSphere ESXi 6.5.x</li>
<li>VMware vSphere ESXi 6.7.x</li>
<li>VMware vSphere ESXi 7.x</li>
<li>VMware vSphere ESXi 8.x</li>
</ul></div>
                            </div>
                        </div>
                    

                    



                    
                        <div class="article-detail-card">
                            <div class="article-detail-card-header">
                                <h4 class="wolken-h4">Resolution</h4>
                            </div>
                            <div class="article-detail-card-content wolken-h5">
                                <div><h3>Configuring TSO</h3>
<ul>
<li><strong>Enabling or disabling hardware TSO on the host</strong><br><br>By default, the host is configured to use hardware TSO if installed NICs support that feature.<br><br>To toggle hardware TSO on the ESX/ESXi host, use the vSphere Web Client or run a console command on the host:<br>&nbsp;
<ul>
<li>In the vSphere Web Client, on the Manage tab for the host, click&nbsp;<strong>Advanced System Settings</strong>&nbsp;and set the&nbsp;<code><span style="font-family: Courier New; font-size: small;">Net.UseHwTSO</span></code>&nbsp;parameter for IPv4 to&nbsp;<span style="font-family: Courier New; font-size: small;">1</span>&nbsp;to enable TSO, or to&nbsp;<span style="font-family: Courier New; font-size: small;">0</span>&nbsp;to disable TSO.<br><br><strong>Note</strong>: In ESXi 6.x and above <span style="font-family: Courier New; font-size: small;">useNet.UseHwTSO6</span>&nbsp;for IPv6.<br>&nbsp;</li>
<li>Via SSH or console, set the <code><span style="font-family: Courier New; font-size: small;">/Net/UseHwTSO</span></code>&nbsp;advanced parameter to&nbsp;<span style="font-family: Courier New; font-size: small;">1</span>&nbsp;to enable TSO, or to&nbsp;<span style="font-family: Courier New; font-size: small;">0</span> to disable TSO: <br>
<p><span style="font-family: Courier New; font-size: small;">$ esxcli system settings advanced set -o /Net/UseHwTSO -i 1<br>$ esxcli system settings advanced set -o /Net/UseHwTSO -i 0</span></p>
Reboot the ESXi host for changes to take effect.</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Determining if hardware TSO is enabled on the host</strong><br><br>To determine if hardware TSO is enabled: <br>
<ol>
<li>Via SSH or console: <br>
<p><code><span style="font-family: Courier New; font-size: small;">$ </span></code><span style="font-family: Courier New; font-size: small;">esxcli system settings advanced list -o /Net/UseHwTSO</span></p>
</li>
<li>Verify that the <code><span style="font-family: Courier New; font-size: small;">Int Value</span></code>&nbsp;property is equal to&nbsp;<span style="font-family: Courier New; font-size: small;">1</span>.</li>
</ol>
</li>
</ul>
<ul>
<li><strong>Enabling TSO in a Linux guest operating system</strong><br>To enable TSO in the guest operating system of a Linux virtual machine:<br><br><code><code><span style="font-family: Courier New; font-size: small;">$ </span></code>ethtool -K eth<em>Y</em>&nbsp;tso on</code><br><br>Where&nbsp;<em>Y</em>&nbsp;in&nbsp;<code>eth<em>Y</em></code> is the sequence number of the NIC in the virtual machine.</li>
</ul>
<h3>Configuring LRO</h3>
<ul>
<li><strong>Enabling hardware LRO for the VMXNET2 and VMXNET3 virtual machine adapters</strong><br><br>Hardware LRO is active for VMXNET2 and VMXNET3 virtual machine adapters by default. Note: Rx checksum offload should be enabled in the virtual machine when using LRO.</li>
</ul>
<ul>
<li>In the vSphere Web Client, on the Manage tab for the host, click&nbsp;<strong>Advanced System Settings</strong>&nbsp;and set the&nbsp;<code>Net.Vmxnet2HwLRO</code>&nbsp;and&nbsp;<code>Net.Vmxnet3HwLRO</code>&nbsp;parameters to 1 to enable hardware LRO, or to 0 to disable hardware LRO.<br>&nbsp;</li>
<li>Via SSH or console on the host set the <code>/Net/Vmxnet2HwLRO</code>&nbsp;and&nbsp;<code>/Net/Vmxnet3HwLRO</code> parameters to 1 to enable LRO, or to 0 to disable LRO:
<p><code><code><span style="font-family: Courier New; font-size: small;">$ </span></code>esxcli system settings advanced set -o /Net/Vmxnet3HwLRO -i 1</code></p>
</li>
</ul>
<p>Reboot the ESXi host for changes to take effect.<br>&nbsp;</p>
<ul>
<li><strong>Determining if hardware LRO is enabled on the host</strong><br><br>To determine if hardware LRO is enabled for VMXNET2 or VMXNET3 adapters:<br>&nbsp;
<ol>
<li>In an ESX/ESXi Shell on the host, run the command for the&nbsp;<code>/Net/Vmxnet2HwLRO</code>&nbsp;or&nbsp;<code>/Net/Vmxnet3HwLRO</code>&nbsp;parameters:
<p><code><code><span style="font-family: Courier New; font-size: small;">$ </span></code>esxcli system settings advanced list -o /Net/Vmxnet2HwLRO<br><code><span style="font-family: Courier New; font-size: small;">$ </span></code>esxcli system settings advanced list -o /Net/Vmxnet3HwLRO</code></p>
</li>
<li>In the command output, verify that the&nbsp;<code>Int Value</code> property is equal to 1.</li>
</ol>
</li>
</ul>
<ul>
<li><strong>Enabling software LRO in the VMkernel for VMXNET2 and VMXNET3 adapters</strong><br><br>To enable software LRO in the VMkernel for VMXNET2 and VMXNET3 adapters:<br>&nbsp;
<ul>
<li>In the vSphere Web Client, set the&nbsp;<code>Net.Vmxnet2SwLRO</code>&nbsp;and&nbsp;<code>Net.Vmxnet3SwLRO</code>&nbsp;parameters to 1 to enable LRO, or to 0 to disable LRO.<br>&nbsp;</li>
<li>Via SSH or console, set the <code>/Net/Vmxnet2SwLRO</code>&nbsp;and&nbsp;<code>/Net/Vmxnet3SwLRO</code>&nbsp;parameters to 1 to enable LRO, or to 0 to disable LRO.</li>
<li>Reboot ESXi host</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Enabling or disabling LRO for all VMkernel adapters on a host</strong><br><br>To enable or disable LRO for the default TCP/IP stack on the host:&nbsp;<br>&nbsp;
<ul>
<li>In the vSphere Web Client, on the Manage tab for the host, click&nbsp;<strong>Advanced System Settings</strong>&nbsp;and set&nbsp;<code>Net.TcpipDefLROEnabled</code>&nbsp;to 1 to enable LRO or to 0 to disable it.</li>
<li>Via SSH or console, set the <code>/Net/TcipDefLROEnabled</code> to 1 to enable LRO or to 0 to disable it:<br><br><code><code><span style="font-family: Courier New; font-size: small;">$ </span></code>esxcli system settings advanced set -o /Net/TcpipDefLROEnabled -i 0</code><br>&nbsp;</li>
<li>Reboot ESXi host</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Determining if LRO is enabled for the VMkernel adapters on the host</strong><br><br>To determine if LRO is enabled for all VMkernel adapters on the host:<br><br><span style="font-family: Courier New;">$ esxcli system settings advanced list -o /Net/TcpipDefLROEnabled</span></li>
</ul>
<ul>
<li><strong>Enabling or disabling LRO in a Linux guest operating system</strong><br>&nbsp;
<ul>
<li>To enable or disable LRO on a virtual machine that runs Linux kernel 2.6.24 and later and uses a VMXNET3 network interface:<br>&nbsp;
<ul>
<li>To enable LRO:<br><br><code>ethtool -K eth<em>Y</em>&nbsp;lro on</code><br>&nbsp;</li>
<li>To disable LRO:<br><br><code>ethtool -K eth<em>Y</em>&nbsp;lro off</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Where&nbsp;<em>Y</em>&nbsp;in&nbsp;<code>eth<em>Y</em></code>&nbsp;represents the sequence number of the NIC in the virtual machine.</p>
<ul>
<li style="list-style-type: none;">
<ul>
<li>To permanently disable LRO on these versions of Linux:<br>&nbsp;
<ol>
<li>Open the&nbsp;<code>/etc/rc.local</code>&nbsp;file in a text editor and add these two lines to the file for VMXNET or VMXNET3 driver:<br><br><code>rmmod vmxnet<br>			modprobe vmxnet disable_lro=1</code><br><br>Or<br><br><code>rmmod vmxnet3<br>			modprobe vmxnet3 disable_lro=1</code><br>&nbsp;</li>
<li>Save the configuration file.<br>&nbsp;</li>
<li>Reboot the virtual machine for the changes to take effect.<br><br><strong>Note</strong>: This is the appropriate way to disable LRO in RHEL 5.x.&nbsp;<br>&nbsp;</li>
</ol>
</li>
</ul>
</li>
<li><strong>Enabling or disabling LRO in a Windows guest operating system</strong><br><br>To enable or disable LRO in a Windows Server 2012 and later or Windows 8 and later virtual machine, see <a href="https://techdocs.broadcom.com/us/en/vmware-cis/vsphere/vsphere/7-0/vsphere-networking-7-0/managing-network-resources/enabling-tso/enable-or-disable-tso-on-a-windows-virtual-machine.html" target="blank" rel="noopener">Manage TSO on a Windows Virtual Machine</a>.<br><br><strong>Note:&nbsp;</strong>On Windows, the LRO technology is also referred to as Receive Side Coalescing (RSC).</li>
</ul>
<h3>Segmentation and aggregation</h3>
<ul>
<li><strong>Situation 1: Virtual machine communicating with a virtual machine on another hosts</strong><br><br><strong>Location of TCP packet segmentation:</strong><br>&nbsp;
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td colspan="1" rowspan="1"><strong>Tx TSO Status</strong></td>
<td colspan="1" rowspan="1"><strong>TCP Packet Segmentation Location</strong></td>
</tr>
<tr>
<td colspan="1" rowspan="1"><strong>Enabled</strong></td>
<td colspan="1" rowspan="1">Transmitting physical NIC</td>
</tr>
<tr>
<td colspan="1" rowspan="1"><strong>Disabled</strong></td>
<td colspan="1" rowspan="1">Guest operating system</td>
</tr>
</tbody>
</table>
<br><strong>Notes</strong>:
<ul>
<li>If the physical NIC supports TSO and TSO is enabled, the NIC performs segmentation of application packets to TSO size. If the physical NIC does not support TSO, the VMkernel segments the application packets.</li>
<li>If TSO is disabled, the guest operating system of the transmitting virtual machine segments application data into packets with MTU size.</li>
</ul>
<br><strong>Location of TCP packet aggregation:</strong><br>&nbsp;
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td colspan="1" rowspan="1"><strong>Rx LRO Status</strong></td>
<td colspan="1" rowspan="1"><strong>TCP Packet Aggregation Location</strong></td>
</tr>
<tr>
<td colspan="1" rowspan="1"><strong>Enabled</strong></td>
<td colspan="1" rowspan="1">Receiving physical NIC if it supports LRO<br>Receiving virtual machine NIC backend if the physical NIC does not support LRO</td>
</tr>
<tr>
<td colspan="1" rowspan="1"><strong>Disabled</strong></td>
<td colspan="1" rowspan="1">TCP packets are not aggregation</td>
</tr>
</tbody>
</table>
<br><strong>Notes</strong>:
<ul>
<li>If the physical NIC on the receiving side supports hardware LRO, the NIC aggregates the arriving packets. If the NIC is not capable of LRO, the virtual machine NIC performs software aggregation.</li>
<li>If LRO is disabled for the receiving virtual machine, but hardware LRO is active for the network adapter type (VMXNET2 or VMXNET3), the receiving physical NIC aggregates the packets. The VMkernel on the receiving side then segments the aggregated packets into smaller chunks with TSO size, and forwards the chunks to the target virtual machine.</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Situation 2: Virtual machine communicating with a virtual machine on the same host and virtual switch</strong><br><br><strong>Note</strong>: TSO/LRO processing for traffic between two virtual machines on the same virtual switch is done by the VMkernel. Because the traffic never leaves the hypervisor kernel, and because hypervisor networking is very efficient, performance does not suffer over physical TSO/LRO.<br><br><strong>Location of TCP packet segmentation:</strong><br>&nbsp;
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td colspan="1" rowspan="1"><strong>Tx TSO Status</strong></td>
<td colspan="1" rowspan="1"><strong>TCP Segmentation Location</strong></td>
</tr>
<tr>
<td colspan="1" rowspan="1"><strong>Enabled</strong></td>
<td colspan="1" rowspan="1">Transmitting virtual machine NIC sends TSO size packets</td>
</tr>
<tr>
<td colspan="1" rowspan="1"><strong>Disabled</strong></td>
<td colspan="1" rowspan="1">Guest operating system</td>
</tr>
</tbody>
</table>
<br><strong>Notes</strong>:
<ul>
<li>If TSO is enabled for the transmitting virtual machine, the virtual machine NIC segments application data to packets that have TSO size.</li>
<li>If TSO is disabled for the transmitting virtual machine, the guest operating system segments application data to packets that have MTU size.</li>
</ul>
<br><strong>Location of TCP packet aggregation:</strong><br>&nbsp;
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td colspan="1" rowspan="1"><strong>Rx LRO Status</strong></td>
<td colspan="1" rowspan="1"><strong>TCP Packet Aggregation Location</strong></td>
</tr>
<tr>
<td colspan="1" rowspan="1"><strong>Enabled</strong></td>
<td colspan="1" rowspan="1">Receiving virtual machine NIC</td>
</tr>
<tr>
<td colspan="1" rowspan="1"><strong>Disabled</strong></td>
<td colspan="1" rowspan="1">TCP packets are not aggregated</td>
</tr>
</tbody>
</table>
<br><strong>Notes</strong>:
<ul>
<li>If LRO is enabled for the receiving virtual machine, the virtual machine NIC aggregates application packets up to the configured buffer size, and sends the aggregated packets to the virtual machine.</li>
<li>If LRO is disabled, packets that have MTU size are directly transferred to the target virtual machine. If large packets arrive, the VMkernel segments transferred packets to TSO size and forwards them to the virtual machine.</li>
</ul>
</li>
</ul>
<h3>Additional Information</h3>
<p>LRO on Windows is called Receive Segment Coalescing (RSC). It was introduced in Windows 8 / Windows Server 2012. LRO/RSC is supported for the Windows with VMXNET3 driver was supported from version vSphere 6.0 and Virtual Machine hardware version 11.</p></div>
                            </div>
                        </div>
                    

                    
                    
                    

                    <div class="feedback-section">
                        <h4 class="wolken-h3">Feedback</h4>
                        <div class="wolken-h4" id="feedback_actionMsg"></div>
                        <div class="wolken-h5">
                             <div id="feedback_actions" class="flex-row row-gap-16">
                                <div class="flex-row row-align-center-center row-gap-8 like_dislike_btn" onclick="onArticleLike()">
                                    <span class="material-icons">thumb_up</span>
                                    <span>Yes</span>
                                 </div>
                                 <div class="flex-row row-align-center-center row-gap-8 like_dislike_btn" onclick="onArticleDislike()">
                                    <span class="material-icons">thumb_down</span>
                                    <span>No</span>
                                 </div>
                             </div>
                        </div>
                    </div>

                </div>
                <div class="flex-row wolken-footer">
                    <span class="mat-caption">Powered by</span>
                      <a  target="_blank" href="https://www.wolkensoftware.com/">
                <img src="https://cdn.wolkenservicedesk.com/wolken-footer-image.png" alt="Wolken Software">
                    </a>
                </div>
                <iframe class="custom-footer" frameborder="0" scrolling="no" title="https://cdn.wolkenservicedesk.com/Broadcom_%20Footer.html" src="https://cdn.wolkenservicedesk.com/Broadcom_%20Footer.html" height="118px"></iframe>
            </div>

            <div class="loader-container flex-column">
                <div class="ghost-loader ghost-custom-header"></div>
                <div class="wolken-content-container flex-column column-gap-16">
                    <div class="flex-row row-gap-16 row-align-space-between-center">
                        <div class="ghost-loader ghost-article-title"></div>
                        <div class="ghost-loader ghost-article-date"></div>
                    </div>
                    <div class="article-detail-card">
                        <div class="article-detail-card-header">
                            <div class="ghost-loader ghost-article-detail-title"></div>
                        </div>
                        <div class="article-detail-card-content">
                            <div class="ghost-product-detail-content flex-row row-gap-16">
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                            </div>
                        </div>
                    </div>
                    <div class="article-detail-card">
                        <div class="article-detail-card-header">
                            <div class="ghost-loader ghost-article-detail-title"></div>
                        </div>
                        <div class="article-detail-card-content">
                            <div class="ghost-article-detail-content column-gap-16">
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                            </div>
                        </div>
                    </div>
                    <div class="article-detail-card">
                        <div class="article-detail-card-header">
                            <div class="ghost-loader ghost-article-detail-title"></div>
                        </div>
                        <div class="article-detail-card-content">
                            <div class="ghost-article-detail-content column-gap-16">
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                            </div>
                        </div>
                    </div>
                    <div class="article-detail-card">
                        <div class="article-detail-card-header">
                            <div class="ghost-loader ghost-article-detail-title"></div>
                        </div>
                        <div class="article-detail-card-content">
                            <div class="ghost-article-detail-content column-gap-16">
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                            </div>
                        </div>
                    </div>
                    <div class="article-detail-card">
                        <div class="article-detail-card-header">
                            <div class="ghost-loader ghost-article-detail-title"></div>
                        </div>
                        <div class="article-detail-card-content">
                            <div class="ghost-article-detail-content column-gap-16">
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                                <div class="ghost-loader"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ghost-loader ghost-custom-footer"></div>
            </div>
        </div>
    </body>
    <script>

        var apiDomain =  'https://api-broadcomcms-software.wolkenservicedesk.com/';
        var redirectOnSearchUrl =  'https://support.broadcom.com/web/ecx/search';
        var uiDomain =  '';
        var articleId = '318877';
       var articleTitle = 'Understanding TCP Segmentation Offload (TSO) and Large Receive Offload (LRO) in the vSphere environment';
        var articlePageUrl = uiDomain+'/wolken-support/article?articleId=';
        var attachmentVos = '';
        var kb_public_page_domain = 'broadcomcms-software.wolkenservicedesk.com'
        var kbDownloadDomain = 'broadcomcms-software.wolkenservicedesk.com';
        var regularAttachment = false



        var feedbackConfigData = {};

        document.getElementById('global-header').addEventListener('load', frameVisibilty);
        setTimeout(function ()  {
            document.getElementById('global-header').removeEventListener('load', frameVisibilty);
            frameVisibilty();
        }, 5000);

        function frameVisibilty() {
              setTimeout(function(){
                  document.getElementsByClassName('article-container')[0].style.display = 'flex';
                  document.getElementsByClassName('loader-container')[0].style.display = 'none';
              }, 1000);

            var date = document.getElementById('date_time');
            var d = '05-09-2025 08:16';
            date.innerHTML = d;
            date.innerHTML = d.split(' ')[0];

            var arr = document.getElementsByClassName("product-chip");
             if(arr.length > 15){
             document.getElementsByClassName('product-container')[0].style.overflow = 'hidden';
             document.getElementsByClassName('product-container')[0].style.height = '53px';
             document.getElementsByClassName('show_more')[0].style.display = 'block';
             document.getElementsByClassName('show_less')[0].style.display = 'none';
             }
             else{
             document.getElementsByClassName('product-container')[0].style.overflow = 'auto';
             document.getElementsByClassName('product-container')[0].style.height = 'auto';
             document.getElementsByClassName('show_more')[0].style.display = 'none';
             document.getElementsByClassName('show_less')[0].style.display = 'none';
             }
        }

          function showMoreItems(){
            document.getElementsByClassName('product-container')[0].style.overflow = 'auto';
            document.getElementsByClassName('product-container')[0].style.height = 'auto';
            document.getElementsByClassName('show_more')[0].style.display = 'none';
            document.getElementsByClassName('show_less')[0].style.display = 'block';
        }

        function showLessItems(){
            document.getElementsByClassName('product-container')[0].style.overflow = 'hidden';
            document.getElementsByClassName('product-container')[0].style.height = '53px';
            document.getElementsByClassName('show_more')[0].style.display = 'block';
            document.getElementsByClassName('show_less')[0].style.display = 'none';
        }

        function downloadAttachment(uniquefileid) {
            // var uniqueFileId = element.getAttribute('data-uniquefileid');
            //var uniqueFileId = element.dataset.uniquefileid;
            var uniqueFileId = uniquefileid;

            var form = document.createElement('form');
            form.setAttribute('method', 'post');
            form.setAttribute('action', apiDomain + 'es/attachments/download_attachment?domain='+kbDownloadDomain);
            form.setAttribute('target', '_self');
            var hiddenField = document.createElement('input');
            hiddenField.setAttribute('type', 'hidden');
            hiddenField.setAttribute('name', 'data');
            hiddenField.setAttribute('value', JSON.stringify({
                uniqueFileId: uniqueFileId
            }));
            form.appendChild(hiddenField);
            document.body.appendChild(form);
            window.open('', '_self');
            form.submit();
            form.parentNode.removeChild(form);
        }

        document.addEventListener('DOMContentLoaded', function(){
            articleViewed();
            getFeedbackConfig();
            saveArticleViewCountHistory();
        });

        function articleViewed() {
            try {

                        gza("conversion", {
                        index:"server_ws_knowledge_article" ,
                        type: 'ws_knowledge_articles_doc',
                        id: articleId,
                        rank: 1,
                        convUrl: location.href,
                        convSub: articleTitle
                    });
                } catch(error) {
                    console.log(error);
                }

            saveArticleCount('views');
        }

    function getFeedbackConfig() {
        if (kb_public_page_domain) {
        var articleFeedbackConfigRequest = new XMLHttpRequest();
        articleFeedbackConfigRequest.open('GET', apiDomain + 'es/nau/feedback/config');
            articleFeedbackConfigRequest.setRequestHeader("domain", kb_public_page_domain);
        articleFeedbackConfigRequest.send();
        articleFeedbackConfigRequest.onload = function () {
            if (articleFeedbackConfigRequest.status == 200) {
                var response = JSON.parse(articleFeedbackConfigRequest.response);
                if (response && response.data && response.data.feedbackConfigData) {
                    feedbackConfigData = response.data.feedbackConfigData;
                    document.getElementById('feedback_actionMsg').innerHTML = feedbackConfigData.actionMsg;
                } else {
                    document.getElementsByClassName('feedback-section')[0].remove();
                }
            }
        };
    } else {
        console.log('Error! KB public domain is not configrued.');
    }
    }

        function saveArticleCount(countType) {
            var data = {
                articleId: articleId
            };

            data[countType] = 1;

            var formData = new FormData();
            formData.append('data', JSON.stringify(data));

        if (kb_public_page_domain) {
        var articleLikeRequest = new XMLHttpRequest();
        articleLikeRequest.open('POST', apiDomain + 'es/nau/feedback/feedback_count');
            articleLikeRequest.setRequestHeader("domain", kb_public_page_domain);
        articleLikeRequest.send(formData);
        articleLikeRequest.onload = function () {
            if (articleLikeRequest.status == 200) {
            }
        };
    } else {
        console.log('Error! KB public domain is not configrued.');
    }
    }

        function saveArticleViewCountHistory() {
            let articleViewData = new FormData();
            articleViewData.append('data', JSON.stringify({
                "articleId":articleId,
                "countType":"VIEWS"
            }));

        if (kb_public_page_domain) {
        var articleViewRequest = new XMLHttpRequest();
        articleViewRequest.open('POST', apiDomain + 'es/nau/count/save_article_count');
            articleViewRequest.setRequestHeader("domain", kb_public_page_domain);
        //articleViewRequest.withCredentials = true;
        articleViewRequest.send(articleViewData);
        articleViewRequest.onload = function () {
            if (articleViewRequest.status == 200) {
                console.log(articleViewRequest.response);
            }
        };
    } else {
        console.log('Error! KB public domain is not configrued.');
    }
    }

        function onArticleLike() {
            try {
                gza("pageRating", {
                    referer: document.referrer,
                    url: window.location.href,
                    t: document.getElementsByTagName('title')[0] ? document.getElementsByTagName('title')[0].innerText : window.location.href,
                    uid: '1fd47e1f-f7d9-11ea-beba-0242ac12000b',
                    feedback: 1
                });
            } catch(error) {
                console.log(error);
            }


            document.getElementById('feedback_actionMsg').innerHTML = feedbackConfigData.yesMsg;
            document.getElementById('feedback_actions').remove();

            saveArticleCount('likes');
        }

        function onArticleDislike() {
            saveArticleDisLikeCount();
             document.getElementById('feedback_actionMsg').innerHTML = feedbackConfigData.yesMsg;
             document.getElementById('feedback_actions').remove();
        }

        function redirectToFeedbackPage() {
            window.open(articlePageUrl + articleId +'&action=feedback', '_self');
        }

        function saveArticleDisLikeCount() {
            try {
                gza("pageRating", {
                    referer: document.referrer,
                    url: window.location.href,
                    t: document.getElementsByTagName('title')[0] ? document.getElementsByTagName('title')[0].innerText : window.location.href,
                    uid: '1fd47e1f-f7d9-11ea-beba-0242ac12000b',
                    feedback: 0
                });
            } catch(error) {
                console.log(error);
            }

            saveArticleCount('dislikes');
        }

        function clearSearch(){
            document.getElementById('searchBox').value = '';
        }

        function redirectOnSearch(e){
        if(e && e.keyCode === 13 || e === undefined){
        const searchText = document.getElementById('searchBox').value;
        var redirectOnSearchUrl = 'https://support.broadcom.com/web/ecx/search?searchString=' + searchText;
        window.open(redirectOnSearchUrl, '_blank');
      }
        }
    </script>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe title="No Script" src="https://www.googletagmanager.com/ns.html?id=GTM-KF7XWD" height="0" width="0"
        style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
</html>
